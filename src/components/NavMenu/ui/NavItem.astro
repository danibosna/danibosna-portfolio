---
import { cn } from "@/utils/utils";

interface Props {
  item: {
    href: string;
    name: string;
    icon: string;
    subItems?: {
      href: string;
      name: string;
      icon: string;
    }[];
  };
}

const { item } = Astro.props;

const currentRoute = new URLSearchParams("").toString();
---

<div
  class={cn(
    !currentRoute.includes(item.href.split("/")[2]!) ? "mb-2" : "opacity-5",
    `mb-2 pl-2 py-1 flex flex-col justify-center text-xs md:text-lg textwalle hover:glass w-full rounded-l-3xl`,
  )}
>
  <a href={item.href} data-astro-prefetch>
    <span class="flex items-center gap-4">
      <img
        class="p-1 nav-item-icon"
        src={item?.icon}
        alt={item.name}
        width={32}
      />
      <span
        class={`w-full text-sm nav-item-text font-medium text-primary-foreground`}
      >
        {item.name}
      </span>
    </span>
  </a>
</div>
