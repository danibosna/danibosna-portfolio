{"version":3,"file":"sdk.js","sources":["../../../src/client/sdk.ts"],"sourcesContent":["import type { BrowserOptions } from '@sentry/browser';\nimport {\n  browserTracingIntegration,\n  getDefaultIntegrations as getBrowserDefaultIntegrations,\n  init as initBrowserSdk,\n  setTag,\n} from '@sentry/browser';\nimport { applySdkMetadata, hasTracingEnabled } from '@sentry/core';\nimport type { Integration } from '@sentry/types';\n\n// Treeshakable guard to remove all code related to tracing\ndeclare const __SENTRY_TRACING__: boolean;\n\n/**\n * Initialize the client side of the Sentry Astro SDK.\n *\n * @param options Configuration options for the SDK.\n */\nexport function init(options: BrowserOptions): void {\n  const opts = {\n    defaultIntegrations: getDefaultIntegrations(options),\n    ...options,\n  };\n\n  applySdkMetadata(opts, 'astro', ['astro', 'browser']);\n\n  initBrowserSdk(opts);\n\n  setTag('runtime', 'browser');\n}\n\nfunction getDefaultIntegrations(options: BrowserOptions): Integration[] | undefined {\n  // This evaluates to true unless __SENTRY_TRACING__ is text-replaced with \"false\",\n  // in which case everything inside will get treeshaken away\n  if (typeof __SENTRY_TRACING__ === 'undefined' || __SENTRY_TRACING__) {\n    if (hasTracingEnabled(options)) {\n      return [...getBrowserDefaultIntegrations(options), browserTracingIntegration()];\n    }\n  }\n\n  return undefined;\n}\n"],"names":["applySdkMetadata","initBrowserSdk","setTag","hasTracingEnabled","getBrowserDefaultIntegrations","browserTracingIntegration"],"mappings":";;;AAUA;;AAGA;AACA;AACA;AACA;AACA;AACO,SAAS,IAAI,CAAC,OAAO,EAAwB;AACpD,EAAE,MAAM,OAAO;AACf,IAAI,mBAAmB,EAAE,sBAAsB,CAAC,OAAO,CAAC;AACxD,IAAI,GAAG,OAAO;AACd,GAAG,CAAA;AACH;AACA,EAAEA,qBAAgB,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,CAAA;AACvD;AACA,EAAEC,YAAc,CAAC,IAAI,CAAC,CAAA;AACtB;AACA,EAAEC,cAAM,CAAC,SAAS,EAAE,SAAS,CAAC,CAAA;AAC9B,CAAA;AACA;AACA,SAAS,sBAAsB,CAAC,OAAO,EAA6C;AACpF;AACA;AACA,EAAE,IAAI,OAAO,kBAAA,KAAuB,WAAY,IAAG,kBAAkB,EAAE;AACvE,IAAI,IAAIC,sBAAiB,CAAC,OAAO,CAAC,EAAE;AACpC,MAAM,OAAO,CAAC,GAAGC,8BAA6B,CAAC,OAAO,CAAC,EAAEC,iCAAyB,EAAE,CAAC,CAAA;AACrF,KAAI;AACJ,GAAE;AACF;AACA,EAAE,OAAO,SAAS,CAAA;AAClB;;;;"}